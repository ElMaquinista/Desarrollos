// get data
const peticion = {
    "contestada": [
        {
            "contestada": "1",
            "tipo": null,
            "numero_documento": null,
            "llamada_atendida": "true",
            "tipo_consulta": null,
            "id_conexion": "9102b771-849d-448a-9f57-dd8a19b3a681",
            "has_img": "true",
            "plataformas": null,
            "notificacion_usuario_grupo": null,
            "correo": "operador04cac.peru@claro360.com",
            "time_created": "09:11:46",
            "id": "48587",
            "telefono": null,
            "lat": "20.5125073",
            "area": null,
            "lng": "-99.8906539",
            "id_llamada": "359099",
            "fecha": null,
            "plataforma": "meeting",
            "date_finish": "2023-05-05",
            "tipo_host": "ordenador",
            "activo": "0",
            "img": "https://bucketmoviles121652-dev.s3.amazonaws.com/public/MobileCard/perfil.png",
            "date_updated": null,
            "hora": null,
            "id360": null,
            "lsm": null,
            "icon": "https://bucketmoviles121652-dev.s3.amazonaws.com/public/MobileCard/icono.png",
            "id_session": null,
            "video": "true",
            "tiempo_microfono": "00:00:00",
            "nombre": "Operador 04 Consultas Hogar",
            "id_sesion": null,
            "id_modulo": null,
            "audio": "true",
            "so": null,
            "date_created": "2023-05-05",
            "mano": "false",
            "es_host": "false",
            "id_socket": "d6e6e3e3-216a-4bfb-85f8-2172b3de3afe",
            "time_zone": null,
            "participante": null,
            "time_updated": null,
            "tipo_documento": null,
            "time_finish": "09:12:13",
            "apellido_paterno": null,
            "apellido_materno": null,
            "id_tipo_consulta": null,
            "id_cac": null
        },
        {
            "contestada": "1",
            "tipo": null,
            "numero_documento": null,
            "llamada_atendida": "true",
            "tipo_consulta": null,
            "id_conexion": "6c2e0fe5-0f48-4b8e-99cc-39f9bfffaca0",
            "has_img": "true",
            "plataformas": null,
            "notificacion_usuario_grupo": null,
            "correo": "operador07cac.peru@claro360.com",
            "time_created": "09:10:58",
            "id": "48586",
            "telefono": null,
            "lat": "20.5125073",
            "area": null,
            "lng": "-99.8906539",
            "id_llamada": "359099",
            "fecha": null,
            "plataforma": "meeting",
            "date_finish": "2023-05-05",
            "tipo_host": "ordenador",
            "activo": "0",
            "img": "https://bucketmoviles121652-dev.s3.amazonaws.com/public/MobileCard/perfil.png",
            "date_updated": null,
            "hora": null,
            "id360": null,
            "lsm": null,
            "icon": "https://bucketmoviles121652-dev.s3.amazonaws.com/public/MobileCard/icono.png",
            "id_session": null,
            "video": "true",
            "tiempo_microfono": "00:00:00",
            "nombre": "Operador 07 Lenguaje de señas",
            "id_sesion": null,
            "id_modulo": null,
            "audio": "true",
            "so": null,
            "date_created": "2023-05-05",
            "mano": "false",
            "es_host": "false",
            "id_socket": "42598889-08af-478d-9109-1f23186089d4",
            "time_zone": null,
            "participante": null,
            "time_updated": null,
            "tipo_documento": null,
            "time_finish": "09:11:34",
            "apellido_paterno": null,
            "apellido_materno": null,
            "id_tipo_consulta": null,
            "id_cac": null
        },
        {
            "contestada": "1",
            "tipo": null,
            "numero_documento": null,
            "llamada_atendida": "true",
            "tipo_consulta": null,
            "id_conexion": "b8cd673e-b238-4e0e-879b-5fa9c1d09b97",
            "has_img": "true",
            "plataformas": null,
            "notificacion_usuario_grupo": null,
            "correo": "operador07cac.peru@claro360.com",
            "time_created": "09:10:07",
            "id": "48585",
            "telefono": null,
            "lat": "20.5125073",
            "area": null,
            "lng": "-99.8906539",
            "id_llamada": "359099",
            "fecha": null,
            "plataforma": "meeting",
            "date_finish": "2023-05-05",
            "tipo_host": "ordenador",
            "activo": "0",
            "img": "https://bucketmoviles121652-dev.s3.amazonaws.com/public/MobileCard/perfil.png",
            "date_updated": null,
            "hora": null,
            "id360": null,
            "lsm": null,
            "icon": "https://bucketmoviles121652-dev.s3.amazonaws.com/public/MobileCard/icono.png",
            "id_session": null,
            "video": "true",
            "tiempo_microfono": "00:00:00",
            "nombre": "Operador 07 Lenguaje de señas",
            "id_sesion": null,
            "id_modulo": null,
            "audio": "true",
            "so": null,
            "date_created": "2023-05-05",
            "mano": "false",
            "es_host": "false",
            "id_socket": "6b022c84-1f51-44d3-81b1-a78db85c52aa",
            "time_zone": null,
            "participante": null,
            "time_updated": null,
            "tipo_documento": null,
            "time_finish": "09:10:42",
            "apellido_paterno": null,
            "apellido_materno": null,
            "id_tipo_consulta": null,
            "id_cac": null
        },
        {
            "contestada": "1",
            "tipo": null,
            "numero_documento": null,
            "llamada_atendida": "true",
            "tipo_consulta": null,
            "id_conexion": "df4a99d0-672e-4e92-a274-93d8e7ed870a",
            "has_img": "true",
            "plataformas": null,
            "notificacion_usuario_grupo": null,
            "correo": "operador04cac.peru@claro360.com",
            "time_created": "09:08:57",
            "id": "48584",
            "telefono": null,
            "lat": "20.5125073",
            "area": null,
            "lng": "-99.8906539",
            "id_llamada": "359099",
            "fecha": null,
            "plataforma": "meeting",
            "date_finish": "2023-05-05",
            "tipo_host": "ordenador",
            "activo": "0",
            "img": "https://bucketmoviles121652-dev.s3.amazonaws.com/public/MobileCard/perfil.png",
            "date_updated": null,
            "hora": null,
            "id360": null,
            "lsm": null,
            "icon": "https://bucketmoviles121652-dev.s3.amazonaws.com/public/MobileCard/icono.png",
            "id_session": null,
            "video": "true",
            "tiempo_microfono": "00:00:41",
            "nombre": "Operador 04 Consultas Hogar",
            "id_sesion": null,
            "id_modulo": null,
            "audio": "true",
            "so": null,
            "date_created": "2023-05-05",
            "mano": "false",
            "es_host": "false",
            "id_socket": "196dbbab-3055-4dc6-b9a1-e4800399add5",
            "time_zone": null,
            "participante": null,
            "time_updated": null,
            "tipo_documento": null,
            "time_finish": "09:09:46",
            "apellido_paterno": null,
            "apellido_materno": null,
            "id_tipo_consulta": null,
            "id_cac": null
        },
        {
            "contestada": "1",
            "tipo": null,
            "numero_documento": "07070707",
            "llamada_atendida": "true",
            "tipo_consulta": "Consultas Móviles",
            "id_conexion": "78317cc4-8cfd-4679-93bb-0baaed63d472",
            "has_img": "false",
            "plataformas": "meeting",
            "notificacion_usuario_grupo": null,
            "correo": null,
            "time_created": "09:07:51",
            "id": "48583",
            "telefono": "070707070",
            "lat": null,
            "area": "Tipo consulta: Consultas Móviles<br>Teléfono: 070707070<br>DNI: 07070707",
            "lng": null,
            "id_llamada": "359099",
            "fecha": "2023-05-05",
            "plataforma": "meeting",
            "date_finish": "2023-05-05",
            "tipo_host": "Ordenador",
            "activo": "0",
            "img": "https://bucketmoviles121652-dev.s3.amazonaws.com/public/MobileCard/perfil.png",
            "date_updated": null,
            "hora": "09:06:51",
            "id360": "9991345441",
            "lsm": "0",
            "icon": "https://bucketmoviles121652-dev.s3.amazonaws.com/public/MobileCard/icono.png",
            "id_session": "2_MX40NzUzMjgwMX5-MTY4MzI5OTIxMjYxM35RSVpZVUV2a2hCWjkyMThkM0lQOFY0cDd-fn4",
            "video": "true",
            "tiempo_microfono": "00:00:00",
            "nombre": "Ricardo garcia  de la Cruz",
            "id_sesion": null,
            "id_modulo": "11",
            "audio": "true",
            "so": null,
            "date_created": "2023-05-05",
            "mano": "false",
            "es_host": "false",
            "id_socket": "a2954e0e-5aa2-4403-bb1c-53e60700a751",
            "time_zone": "America/Mexico_City",
            "participante": null,
            "time_updated": null,
            "tipo_documento": "dni",
            "time_finish": "09:12:14",
            "apellido_paterno": "garcia ",
            "apellido_materno": "de la Cruz",
            "id_tipo_consulta": "1",
            "id_cac": "7"
        },
        {
            "contestada": "1",
            "tipo": null,
            "numero_documento": null,
            "llamada_atendida": "true",
            "tipo_consulta": null,
            "id_conexion": "4d58f7be-c8a5-43a4-9ae5-3aa7408b4196",
            "has_img": "true",
            "plataformas": null,
            "notificacion_usuario_grupo": null,
            "correo": "operador01cac.peru@claro360.com",
            "time_created": "09:07:49",
            "id": "48582",
            "telefono": null,
            "lat": "20.5125073",
            "area": null,
            "lng": "-99.8906539",
            "id_llamada": "359099",
            "fecha": null,
            "plataforma": "meeting",
            "date_finish": "2023-05-05",
            "tipo_host": "ordenador",
            "activo": "0",
            "img": "https://bucketmoviles121652-dev.s3.amazonaws.com/public/MobileCard/perfil.png",
            "date_updated": null,
            "hora": null,
            "id360": null,
            "lsm": null,
            "icon": "https://bucketmoviles121652-dev.s3.amazonaws.com/public/MobileCard/icono.png",
            "id_session": null,
            "video": "false",
            "tiempo_microfono": "00:00:01",
            "nombre": "Operador 01 Consultas Móviles",
            "id_sesion": null,
            "id_modulo": null,
            "audio": "false",
            "so": null,
            "date_created": "2023-05-05",
            "mano": "false",
            "es_host": "false",
            "id_socket": "9794939b-7755-4e83-8574-849e9440d367",
            "time_zone": null,
            "participante": null,
            "time_updated": null,
            "tipo_documento": null,
            "time_finish": "09:08:36",
            "apellido_paterno": null,
            "apellido_materno": null,
            "id_tipo_consulta": null,
            "id_cac": null
        }
    ],
    "success": true,
    "failure": false,
    "bitacora": [
        {
            "id_cliente": "9991345441",
            "date_updated": null,
            "hora": "09:12:15",
            "date_created": "2023-05-05",
            "lsm": "0",
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "desconexión de cliente",
            "id_operador": null,
            "id_catalogo": "6",
            "time_created": "09:12:15",
            "id": "1838",
            "id_tipo_consulta": "1",
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:12:14",
            "date_created": "2023-05-05",
            "lsm": null,
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "Fin de atención",
            "id_operador": null,
            "id_catalogo": "10",
            "time_created": "09:12:15",
            "id": "1837",
            "id_tipo_consulta": null,
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:12:13",
            "date_created": "2023-05-05",
            "lsm": null,
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "desconexión de operador",
            "id_operador": "9991345560",
            "id_catalogo": "5",
            "time_created": "09:12:12",
            "id": "1836",
            "id_tipo_consulta": null,
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:11:47",
            "date_created": "2023-05-05",
            "lsm": null,
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "conexión de operador",
            "id_operador": "9991345560",
            "id_catalogo": "3",
            "time_created": "09:11:46",
            "id": "1835",
            "id_tipo_consulta": null,
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:11:39",
            "date_created": "2023-05-05",
            "lsm": "0",
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "inicio de atención",
            "id_operador": "9991345560",
            "id_catalogo": "2",
            "time_created": "09:11:39",
            "id": "1834",
            "id_tipo_consulta": "2",
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:11:34",
            "date_created": "2023-05-05",
            "lsm": null,
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "desconexión de operador",
            "id_operador": "9991345563",
            "id_catalogo": "5",
            "time_created": "09:11:34",
            "id": "1833",
            "id_tipo_consulta": null,
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:11:34",
            "date_created": "2023-05-05",
            "lsm": null,
            "redir_id_tipo_consulta": "2",
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "redirección  de atención",
            "id_operador": "9991345563",
            "id_catalogo": "9",
            "time_created": "09:11:34",
            "id": "1832",
            "id_tipo_consulta": null,
            "redir_lsm": "0",
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:10:58",
            "date_created": "2023-05-05",
            "lsm": null,
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "conexión de operador",
            "id_operador": "9991345563",
            "id_catalogo": "3",
            "time_created": "09:10:57",
            "id": "1831",
            "id_tipo_consulta": null,
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:10:52",
            "date_created": "2023-05-05",
            "lsm": "1",
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "inicio de atención",
            "id_operador": "9991345563",
            "id_catalogo": "2",
            "time_created": "09:10:51",
            "id": "1830",
            "id_tipo_consulta": "1",
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:10:42",
            "date_created": "2023-05-05",
            "lsm": null,
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "desconexión de operador",
            "id_operador": "9991345563",
            "id_catalogo": "5",
            "time_created": "09:10:41",
            "id": "1829",
            "id_tipo_consulta": null,
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:10:42",
            "date_created": "2023-05-05",
            "lsm": null,
            "redir_id_tipo_consulta": "1",
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "redirección  de atención",
            "id_operador": "9991345563",
            "id_catalogo": "9",
            "time_created": "09:10:41",
            "id": "1828",
            "id_tipo_consulta": null,
            "redir_lsm": "1",
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:10:08",
            "date_created": "2023-05-05",
            "lsm": null,
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "conexión de operador",
            "id_operador": "9991345563",
            "id_catalogo": "3",
            "time_created": "09:10:07",
            "id": "1827",
            "id_tipo_consulta": null,
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:09:52",
            "date_created": "2023-05-05",
            "lsm": "1",
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "inicio de atención",
            "id_operador": "9991345563",
            "id_catalogo": "2",
            "time_created": "09:09:51",
            "id": "1826",
            "id_tipo_consulta": "2",
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:09:47",
            "date_created": "2023-05-05",
            "lsm": null,
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "desconexión de operador",
            "id_operador": "9991345560",
            "id_catalogo": "5",
            "time_created": "09:09:46",
            "id": "1825",
            "id_tipo_consulta": null,
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:09:46",
            "date_created": "2023-05-05",
            "lsm": null,
            "redir_id_tipo_consulta": "2",
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "redirección  de atención",
            "id_operador": "9991345560",
            "id_catalogo": "9",
            "time_created": "09:09:46",
            "id": "1824",
            "id_tipo_consulta": null,
            "redir_lsm": "1",
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:08:58",
            "date_created": "2023-05-05",
            "lsm": null,
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "conexión de operador",
            "id_operador": "9991345560",
            "id_catalogo": "3",
            "time_created": "09:08:57",
            "id": "1823",
            "id_tipo_consulta": null,
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:08:42",
            "date_created": "2023-05-05",
            "lsm": "0",
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "inicio de atención",
            "id_operador": "9991345560",
            "id_catalogo": "2",
            "time_created": "09:08:42",
            "id": "1822",
            "id_tipo_consulta": "2",
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:08:36",
            "date_created": "2023-05-05",
            "lsm": null,
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "desconexión de operador",
            "id_operador": "9991345557",
            "id_catalogo": "5",
            "time_created": "09:08:35",
            "id": "1821",
            "id_tipo_consulta": null,
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:08:35",
            "date_created": "2023-05-05",
            "lsm": null,
            "redir_id_tipo_consulta": "2",
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "redirección  de atención",
            "id_operador": "9991345557",
            "id_catalogo": "9",
            "time_created": "09:08:35",
            "id": "1820",
            "id_tipo_consulta": null,
            "redir_lsm": "0",
            "activo": "1"
        },
        {
            "id_cliente": "9991345441",
            "date_updated": null,
            "hora": "09:07:51",
            "date_created": "2023-05-05",
            "lsm": "0",
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "conexión de cliente",
            "id_operador": null,
            "id_catalogo": "4",
            "time_created": "09:07:50",
            "id": "1819",
            "id_tipo_consulta": "1",
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:07:49",
            "date_created": "2023-05-05",
            "lsm": null,
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "conexión de operador",
            "id_operador": "9991345557",
            "id_catalogo": "3",
            "time_created": "09:07:48",
            "id": "1818",
            "id_tipo_consulta": null,
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": null,
            "date_updated": null,
            "hora": "09:06:59",
            "date_created": "2023-05-05",
            "lsm": "0",
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "inicio de atención",
            "id_operador": "9991345557",
            "id_catalogo": "2",
            "time_created": "09:06:59",
            "id": "1817",
            "id_tipo_consulta": "1",
            "redir_lsm": null,
            "activo": "1"
        },
        {
            "id_cliente": "9991345441",
            "date_updated": null,
            "hora": "09:06:51",
            "date_created": "2023-05-05",
            "lsm": "0",
            "redir_id_tipo_consulta": null,
            "time_zone": "America/Mexico_City",
            "id_llamada": "359099",
            "time_updated": null,
            "fecha": "2023-05-05",
            "evento": "registro de llamada",
            "id_operador": null,
            "id_catalogo": "1",
            "time_created": "09:06:52",
            "id": "1816",
            "id_tipo_consulta": "1",
            "redir_lsm": null,
            "activo": "1"
        }
    ],
    "tp_videollamada": {
        "identificador_cac": "Region Centro",
        "indentificador_region": "Centro",
        "date_updated": null,
        "date_created": "2023-05-05",
        "lsm": "0",
        "numero_documento": "7070707",
        "nombre": "Ricardo",
        "id_llamada": "359099",
        "time_updated": null,
        "identificador_modulo": "M1",
        "tipo_consulta": "Consultas Móviles",
        "tipo_documento": "DNI",
        "id_modulo": "11",
        "apellido_paterno": "garcia",
        "apellido_materno": "de la Cruz",
        "time_created": "09:06:52",
        "id": "937",
        "id_cac": "7",
        "id_tipo_consulta": "1",
        "telefono": "70707070"
    },
    "mensaje": "{\"id_llamada\":\"359099\"}",
    "registro": {
        "descripcion": "Region Centro,M1,Consultas Móviles",
        "sesion": "2_MX40NzUzMjgwMX5-MTY4MzI5OTIxMjYxM35RSVpZVUV2a2hCWjkyMThkM0lQOFY0cDd-fn4",
        "id_proyecto": "1",
        "id_reunion_agendada": null,
        "type": "200",
        "permiso_video": "true",
        "id_costo": null,
        "id_segmento": null,
        "asunto": null,
        "correo": null,
        "time_created": "09:06:52",
        "bloqueada": "0",
        "id": "15241",
        "tipo_usuario": "7",
        "idRegistro_Llamadas": "359099",
        "permiso_chat": "true",
        "duracion_limite": "25",
        "fecha": "2023-05-05",
        "room_name": "curly-heart-round-shape-3631",
        "permiso_invitar": "true",
        "permiso_microfono": "true",
        "date_finish": "2023-05-05",
        "permiso_grabar": "true",
        "tipo_servicio": "11",
        "permiso_compartir_pantalla": "true",
        "date_updated": null,
        "id_ticket_soporte": null,
        "hora": "09:06:51",
        "timezone": "America/Mexico_City",
        "lsm": "0",
        "tiempo_duracion": "5.366667",
        "proyecto": "Consultas Móviles",
        "nombre": "Ricardo",
        "tipo_area": null,
        "id360_soporte": null,
        "permiso_acceso_sin_solicitud": "true",
        "entro_host": "true",
        "Usuarios_Movil_idUsuarios_Movil": "9991345441",
        "apikey": "47532801",
        "id_sala": null,
        "permiso_sin_host": "true",
        "date_created": "2023-05-05",
        "minuta": null,
        "time_updated": null,
        "Modo_Llamada_idModo_Llamada": "200",
        "token": "T1==cGFydG5lcl9pZD00NzUzMjgwMSZzaWc9ZmYzODgxYjYxNjg5Y2Y5MmRjMjFkYzc3N2MwYmQyYzA2NzhmNWEyNDpzZXNzaW9uX2lkPTJfTVg0ME56VXpNamd3TVg1LU1UWTRNekk1T1RJeE1qWXhNMzVSU1ZwWlZVVjJhMmhDV2preU1UaGtNMGxRT0ZZMGNEZC1mbjQmY3JlYXRlX3RpbWU9MTY4MzI5OTIxMyZub25jZT0wLjA1MjAzMzIxNDUxNTUzNTU1JnJvbGU9bW9kZXJhdG9yJmV4cGlyZV90aW1lPTE2ODMzODU2MTMmY29ubmVjdGlvbl9kYXRhPSU3QiUyMnVzZXJOYW1lJTIyJTNBJTIyQW5vbmltbyUyMDUzNSUyMiU3RCZpbml0aWFsX2xheW91dF9jbGFzc19saXN0PQ==",
        "segmento": "peru_cac",
        "permiso_notificaciones": "true",
        "time_finish": "09:12:14",
        "permiso_compartir_archivos": "true"
    }
}
let arr_labels = new Array();
let arr_data = new Array();
let arr_color = new Array();

const extraer_labels = () => {
    let arr_bitacora = peticion.bitacora;
    arr_labels = new Array();
    arr_data = new Array();
    arr_color = new Array();
    if (arr_bitacora) {
        for (let i = 0; i < arr_bitacora.length; i++) {
            let evento = arr_bitacora[i];
            let fecha = evento.fecha;
            let hora = evento.hora;
            let tipo_evento = evento.evento;
            let id_catalogo = evento.id_catalogo;

            let color = "";

            arr_labels.push(tipo_evento);
            // el tercer elemento del arreglo es una bandera para lamodificacion del label
            arr_data.push([fecha + " " + hora, sumando(fecha + " " + hora), "0"]);



            switch (id_catalogo) {
                case "1":
                    color = "rgba(230, 176, 170, 1)";
                    break;
                case "2":
                    color = "rgba(250, 219, 216, 1)";

                    break;
                case "3":
                    color = "rgba(235, 222, 240, 1)";

                    break;
                case "4":
                    color = "rgba(232, 218, 239, 1)";

                    break;
                case "5":
                    color = "rgba(212, 230, 241, 1)";

                    break;
                case "6":
                    color = "rgba(214, 234, 248, 1)";

                    break;
                case "7":
                    color = "rgba(163, 228, 215, 1)";

                    break;
                case "8":
                    color = "rgba(249, 231, 159, 1)";

                    break;
                case "9":
                    color = "rgba(213, 219, 219, 1)";
                case "10":
                    color = "rgba(171, 178, 185, 1)";

                    break;
                default:
                    break;
            }
            // console.log(id_catalogo, " ", color);
            arr_color.push(color);
        }
        // agregar la duracion de la llamada como una barra extra
        arr_labels.push("duracion de llamada");
        arr_data.push(["2023-05-05 09:07:49", sumando("2023-05-05 09:12:10"), "1"]);
        arr_color.push("rgb(151, 94, 109)");
    }
    return {
        arr_labels,
        arr_data,
        arr_color
    }
};

extraer_labels();
function sumando(str_fecha, sumando =30, operacion="seg") {
    var fecha = new Date(str_fecha);
    // ------------------------------------
    // var sumarsesion = 1;
    // var minutes = fecha.getMinutes();

    // fecha.setMinutes(minutes + sumarsesion);

    if(operacion){
        switch (operacion) {
            case "seg":
                fecha.setSeconds(fecha.getSeconds() + sumando);
                break;
            case "min":
                fecha.setMinutes(fecha.getMinsetMinutes() + sumando);
                break;
            case "min":
                fecha.setHours(fecha.getMinsetHours() + sumando);
                break;
        
            default:
                break;
        }
    }



    // ------------------------------------

    var ahora_anio = fecha.getFullYear();
    var ahora_mes = fecha.getMonth() + 1;
    var ahora_dia = fecha.getDate();

    if (ahora_mes < 10) {
        ahora_mes = '0' + ahora_mes;
    }
    if (ahora_dia < 10) {
        ahora_dia = '0' + ahora_dia;
    }

    var fecha_actual = ahora_anio + '-' + ahora_mes + '-' + ahora_dia;

    let hora = fecha.getHours();
    let minutos = fecha.getMinutes();
    let segundos = fecha.getSeconds();


    if (hora < 10) {
        hora = '0' + hora;
    }
    if (minutos < 10) {
        minutos = '0' + minutos;
    }
    if (segundos < 10) {
        segundos = '0' + segundos;
    }

    var hora_actual = hora + ":" + minutos + ":" + segundos;


    return fecha_actual + " " + hora_actual;
}

// setup 
const data = {
    // labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
    // labels: arr_labels,
    labels: [
        "desconexión de cliente",
        "Fin de atención",
        "desconexión de operador",
        "conexión de operador",
        "inicio de atención",
        "desconexión de operador",
        "redirección  de atención",
        "conexión de operador",
        "inicio de atención",
        "desconexión de operador",
        "redirección  de atención",
        "conexión de operador",
        "inicio de atención",
        "desconexión de operador",
        "redirección  de atención",
        "conexión de operador",
        "inicio de atención",
        "desconexión de operador",
        "redirección  de atención",
        "conexión de cliente",
        "conexión de operador",
        "inicio de atención",
        "registro de llamada"
    ],
    datasets: [{
        label: 'Registros de bitácora',
        // data: [
        //     ['2023-05-04 09:00:00', '2023-05-04 09:01:00'],
        //     ['2023-05-04 09:03:00', '2023-05-04 09:04:00'],
        //     ['2023-05-04 09:04:00', '2023-05-04 09:05:00'],
        //     ['2023-05-04 09:05:00', '2023-05-04 09:06:00'],
        //     ['2023-05-04 09:06:00', '2023-05-04 09:07:00'],
        //     ['2023-05-04 09:07:00', '2023-05-04 09:08:00'],
        //     ['2023-05-04 09:08:00', '2023-05-04 09:09:00']
        // ],
        backgroundColor: [
            'rgba(255, 26, 104, 1)',
            'rgba(54, 162, 235, 1)',
            'rgba(255, 206, 86, 1)',
            'rgba(75, 192, 192, 1)',
            'rgba(153, 102, 255, 1)',
            'rgba(255, 159, 64, 1)',
            'rgba(0, 0, 0, 1)'
        ],
        borderColor: [
            'rgba(255, 26, 104, 1)',
            'rgba(54, 162, 235, 1)',
            'rgba(255, 206, 86, 1)',
            'rgba(75, 192, 192, 1)',
            'rgba(153, 102, 255, 1)',
            'rgba(255, 159, 64, 1)',
            'rgba(0, 0, 0, 1)'
        ],
        borderWidth: 1,
        data: [
            ["2023-05-05 09:12:15", "2023-05-05 09:13:15"],
            ["2023-05-05 09:12:14", "2023-05-05 09:13:14"],
            ["2023-05-05 09:12:13", "2023-05-05 09:13:13"],
            ["2023-05-05 09:11:47", "2023-05-05 09:12:47"],
            ["2023-05-05 09:11:39", "2023-05-05 09:12:39"],
            ["2023-05-05 09:11:34", "2023-05-05 09:12:34"],
            ["2023-05-05 09:11:34", "2023-05-05 09:12:34"],
            ["2023-05-05 09:10:58", "2023-05-05 09:11:58"],
            ["2023-05-05 09:10:52", "2023-05-05 09:11:52"],
            ["2023-05-05 09:10:42", "2023-05-05 09:11:42"],
            ["2023-05-05 09:10:42", "2023-05-05 09:11:42"],
            ["2023-05-05 09:10:08", "2023-05-05 09:11:08"],
            ["2023-05-05 09:09:52", "2023-05-05 09:10:52"],
            ["2023-05-05 09:09:47", "2023-05-05 09:10:47"],
            ["2023-05-05 09:09:46", "2023-05-05 09:10:46"],
            ["2023-05-05 09:08:58", "2023-05-05 09:09:58"],
            ["2023-05-05 09:08:42", "2023-05-05 09:09:42"],
            ["2023-05-05 09:08:36", "2023-05-05 09:09:36"],
            ["2023-05-05 09:08:35", "2023-05-05 09:09:35"],
            ["2023-05-05 09:07:51", "2023-05-05 09:08:51"],
            ["2023-05-05 09:07:49", "2023-05-05 09:08:49"],
            ["2023-05-05 09:06:59", "2023-05-05 09:07:59"],
            ["2023-05-05 09:06:51", "2023-05-05 09:07:51"]
        ],
        // data: [
        //     "2023-05-05 09:12:15",
        //     "2023-05-05 09:12:14",
        //     "2023-05-05 09:12:13",
        //     "2023-05-05 09:11:47",
        //     "2023-05-05 09:11:39",
        //     "2023-05-05 09:11:34",
        //     "2023-05-05 09:11:34",
        //     "2023-05-05 09:10:58",
        //     "2023-05-05 09:10:52",
        //     "2023-05-05 09:10:42",
        //     "2023-05-05 09:10:42",
        //     "2023-05-05 09:10:08",
        //     "2023-05-05 09:09:52",
        //     "2023-05-05 09:09:47",
        //     "2023-05-05 09:09:46",
        //     "2023-05-05 09:08:58",
        //     "2023-05-05 09:08:42",
        //     "2023-05-05 09:08:36",
        //     "2023-05-05 09:08:35",
        //     "2023-05-05 09:07:51",
        //     "2023-05-05 09:07:49",
        //     "2023-05-05 09:06:59",
        //     "2023-05-05 09:06:51",
        // ],

        // data: arr_labels,
        // backgroundColor: arr_color,
        // borderColor: arr_color,

        barPercentage: 0.5
    },
    ],
    // labels: [""],
    // datasets: [
    //     {
    //         label: 'Progreama de integración',
    //         data: ["2023-05-05 09:12:12", "2023-05-05 09:12:15"],
    //         borderColor: "#a9d18e",
    //         backgroundColor: "#a9d18e",
    //         // barPercentage: 1
    //     },
    //     {
    //         label: 'Conocimiento del producto',
    //         data: ["2023-05-05 09:12:15", "2023-05-05 09:12:20"],
    //         borderColor: "#7030a0",
    //         backgroundColor: "#7030a0",
    //     },
    //     {
    //         label: 'Asume',
    //         data: ["2023-05-05 09:12:22", "2023-05-05 09:12:25"],
    //         borderColor: "#f8cbad",
    //         backgroundColor: "#f8cbad",
    //     }
    // ],
};

// config 
const config = {
    type: 'bar',
    data,
    options: {
        indexAxis: 'y',
        scales: {
            x: {
                // min: '2023-05-04 09:00',
                min: "2023-05-05 09:06:51",
                // max: "2023-05-05 09:30:25",
                type: 'time',
                time: {
                    unit: 'minute'
                },
                // stacked: true,

            },
            y: {
                // beginAtZero: true,
                // stacked: true,
            }
        },
        leyend: {
            labes: {
                usePointStyle: true,
                boxWidth: 60
            }
        },
        responsive: true,
        plugins: {
            tooltip: {
                enabled: true // <-- this option disables tooltips
            },
        }
        // barThickness: 50,
    }
};

// render init block
const myChart = new Chart(
    document.getElementById('myChart'),
    config
);


const crear_char_bitacora = () => {
    let datos_char = extraer_labels();

    if (datos_char) {

        // console.log("data ", datos_char);s

        const data = {
            labels: datos_char.arr_labels,

            datasets: [
                {
                    label: 'Registros de bitácora',
                    // backgroundColor: [
                    //     'rgba(255, 26, 104, 1)',
                    //     'rgba(54, 162, 235, 1)',
                    //     'rgba(255, 206, 86, 1)',
                    //     'rgba(75, 192, 192, 1)',
                    //     'rgba(153, 102, 255, 1)',
                    //     'rgba(255, 159, 64, 1)',
                    //     'rgba(0, 0, 0, 1)'
                    // ],
                    backgroundColor: datos_char.arr_color,
                    data: datos_char.arr_data,
                },
            ],

        };

        const config = {
            type: 'bar',
            data,
            options: {
                indexAxis: 'y', // permite poner la grafica en horizontal
                scales: {
                    x: {
                        min: "2023-05-05 09:06:40",
                        type: 'time',
                        time: {
                            unit: 'minute',
                            // tooltipFormat: 'MM/DD/YYYY', // <- HERE
                            // displayFormats: {
                            //     'millisecond': 'HH:mm:ss',
                            //     'second': 'HH:mm:ss',
                            //     'minute': 'HH:mm:ss',
                            //     'hour': 'HH:mm:ss',
                            //     'day': 'HH:mm:ss',
                            //     'week': 'HH:mm:ss',
                            //     'month': 'HH:mm:ss',
                            //     'quarter': 'HH:mm:ss',
                            //     'year': 'HH:mm:ss',
                            // }
                            // tooltipFormat: 'DD T'
                        },
                        // stacked: true,
                        title: {
                            display: true,
                            text: 'Date'
                        },
                        parsing: false,
                        offset: false
                    },
                    y: {
                        beginAtZero: true,
                        // stacked: true,
                    }
                },
                leyend: {
                    labes: {
                        usePointStyle: true,
                        boxWidth: 60
                    }
                },
                responsive: true,
                plugins: {
                    tooltip: {
                        enabled: true, // <-- this option disables tooltips
                        filter: (tolltipItem) => {
                            // console.log("tolltipItem ", tolltipItem);s
                            return tolltipItem;
                        },
                        yAlign: 'bottom',
                        callbacks: {
                            label: (context) => {
                                console.log("context", context);
                                // coneole.log(context);
                                let fecha_inicio = context.raw[0];
                                let fecha_fin = context.raw[1];
                                let bandera = context.raw[2];
                                let contenido = "";
                                if (bandera === "1") {
                                    contenido = fecha_inicio + "------" + fecha_fin;
                                }else{
                                    contenido = fecha_inicio;
                                }
                                return contenido;
                            },

                        }
                    },
                    datalabels: {
                        formatter: (value, context) => {
                            // console.log("formatter value: ", value);
                            // console.log("formatter context: ", context);
                            return `${value[0]}`;
                        }
                    }

                },
                // barThickness: 50,

            },
            plugins: [ChartDataLabels]
        };

        const myChart = new Chart(
            document.getElementById('myChartBitacora'),
            config
        );

    }

};

crear_char_bitacora();


